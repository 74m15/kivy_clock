#:import CircularLayout circularlayout

<TickLabel@Label>:
    font_size: "20sp"
    bold: True
    text_size: self.size
    size_hint: 1, 1
    halign: "center"
    valign: "middle"

<Pointer@Widget>:
    angle: 0
    w_ratio: 0.25
    color: 0, 0, 0, 1
    thickness: 8
    origin_x: 0
    origin_y: 0
    size_hint: 1, 1
    canvas.before:
        PushMatrix
        Rotate:
            angle: self.angle
            origin: self.origin_x, self.origin_y
        Color:
            rgba: self.color
        Rectangle:
            size: min(self.width, self.height) * self.w_ratio, self.thickness
            pos: self.origin_x - 4, self.origin_y - self.thickness / 2
    canvas.after:
        PopMatrix

<AnalogClock@Widget>:
    FloatLayout:
        size_hint: 1, 1
        pos_hint: { "x": 0, "y": 0 }
        canvas.before:
            Color:
                rgb: .6, .6, .6
            Rectangle:
                size: self.size
        
        CircularLayout:
            id: clock
            direction: "cw"
            size_hint: 1, 1
            start_angle: -75
                
            TickLabel:
                text: "01"
            
            TickLabel:
                text: "02"
            
            TickLabel:
                text: "03"
            
            TickLabel:
                text: "04"
            
            TickLabel:
                text: "05"
            
            TickLabel:
                text: "06"
            
            TickLabel:
                text: "07"
            
            TickLabel:
                text: "08"
            
            TickLabel:
                text: "09"
            
            TickLabel:
                text: "10"
            
            TickLabel:
                text: "11"
            
            TickLabel:
                text: "12"
            
GridLayout:
    cols: 1
    
    RelativeLayout:
        id: clock
        size_hint: 1, 1
        canvas.before:
            Color:
                rgb: .6, .6, .6
            Rectangle:
                pos: self.to_window(0, 0)
                size: self.size
        
        CircularLayout:
            direction: "cw"
            size_hint: 1, 1
            start_angle: -75
                
            TickLabel:
                text: "01"
            
            TickLabel:
                text: "02"
            
            TickLabel:
                text: "03"
            
            TickLabel:
                text: "04"
            
            TickLabel:
                text: "05"
            
            TickLabel:
                text: "06"
            
            TickLabel:
                text: "07"
            
            TickLabel:
                text: "08"
            
            TickLabel:
                text: "09"
            
            TickLabel:
                text: "10"
            
            TickLabel:
                text: "11"
            
            TickLabel:
                text: "12"
        
        Pointer:
            id: hour
            w_ratio: 0.25
            thickness: 2 / self.w_ratio
            color: 1, 0, 0, 1
            origin_x: self.parent.width / 2
            origin_y: self.parent.height / 2
        
        Pointer:
            id: minute
            w_ratio: 0.3
            thickness: 2 / self.w_ratio
            color: 0, 1, 0, 1
            origin_x: self.parent.width / 2
            origin_y: self.parent.height / 2
        
        Pointer:
            id: second
            w_ratio: 0.35
            thickness: 2 / self.w_ratio
            color: 0, 0, 1, 1
            origin_x: self.parent.width / 2
            origin_y: self.parent.height / 2
    